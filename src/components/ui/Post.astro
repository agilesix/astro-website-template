---
interface Props {
  entry: any;
  basePath: string;
  buttonText?: string;
}

const { entry, basePath, buttonText = "Read More" } = Astro.props;
const slug = entry.slug; // Astro uses the slug from frontmatter as the id
const href = `${basePath}/${slug}`;
---

<article
  class="card"
  style="display: flex; flex-direction: column; width: 100%; height: 100%;"
>
  <h3 class="text-heading-3" style="margin-bottom: var(--spacing-sm);">
    <a href={href} style="text-decoration: none; color: inherit;">
      {entry.data.title}
    </a>
  </h3>
  <p
    class="text-body-small"
    style="margin-bottom: var(--spacing-sm); color: var(--color-text-secondary);"
  >
    {entry.data.publishDate}
    {entry.data.client && ` • ${entry.data.client}`}
    {entry.data.author && !entry.data.client && ` • ${entry.data.author}`}
  </p>
  <p class="text-body" style="margin-bottom: var(--spacing-md); flex-grow: 1;">
    {entry.data.description}
  </p>
  {
    entry.data.industry && (
      <p
        class="text-body-small"
        style="margin-bottom: var(--spacing-sm); color: var(--color-text-secondary);"
      >
        Industry: {entry.data.industry}
      </p>
    )
  }
  <a
    href={href}
    class="button-primary inline-block"
    style="align-self: flex-start;"
  >
    {buttonText}
  </a>
</article>
